// Container usage and permission
docker.enabled         = false
singularity.enabled    = true
singularity.runOptions = '--writable-tmpfs -B $PWD'


/*
                Configuration of Docker usage
                DO NOT change any of those
*/

// specific images
process {
    
    //
    // Custom pipeline's containers with various tools for general purposes
    //
    withLabel: 'db_download|db_tools|misc' {
      container = 'docker://fmalmeida/bacannot:v3.3_misc'
    }

    // container for R tools
    withLabel: 'renv' {
      container = 'docker://fmalmeida/bacannot:v3.3_renv'
    }

    // container for bacannot server
    withLabel: 'server' {
      container = 'docker://fmalmeida/bacannot:server'
    }

    withLabel: 'jbrowse' {
      container = 'docker://fmalmeida/bacannot:jbrowse'
    }

    //
    // Public containers used within the pipeline
    //
    withName: FLYE {
      container = "https://depot.galaxyproject.org/singularity/flye:${params.flye_version}"
    }

    withName: UNICYCLER {
      container = "https://depot.galaxyproject.org/singularity/unicycler:${params.unicycler_version}"
    }

    withName: AMRFINDER_DB {
      container = "docker://ncbi/amr:3.11.2-2022-12-19.1"
    }

    withName: BAKTA {
      container = "https://depot.galaxyproject.org/singularity/bakta:${params.bakta_version}"
    }

    withName: BARRNAP {
      container = "https://depot.galaxyproject.org/singularity/barrnap:0.9--hdfd78af_4"
    }

    withName: REFSEQ_MASHER {
      container = "https://depot.galaxyproject.org/singularity/refseq_masher:0.1.2--py_0"
    }

    withName: MLST {
      container = "https://depot.galaxyproject.org/singularity/mlst:2.19.0--hdfd78af_1"
    }

    withName: PROKKA {
      container = "https://depot.galaxyproject.org/singularity/prokka:1.14.6--pl5321hdfd78af_4"
    }

}

